<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>黑洞任務：宇宙真相追蹤</title>
  <style>
    body {
      font-family: 'Noto Sans TC', sans-serif;
      background: linear-gradient(to right, #211430, #210f36, #110221);
      color: #fff;
      text-align: center;
      padding: 2em;
    }
    .container {
      max-width: 700px;
      margin: auto;
      background: rgba(0,0,0,0.7);
      border-radius: 15px;
      padding: 2em;
      box-shadow: 0 0 20px rgba(255,255,255,0.1);
    }
    .hidden { display: none; }
    button {
      margin: 1em;
      padding: 0.75em 2em;
      font-size: 1.2em;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      background: #61248a;
      color: white;
      transition: background 0.3s ease;
    }
    button:hover { background: #d0b5ff; }
    .choice-btn {
      display: block;
      margin: 1em auto;
      width: 90%;
    } cursor: pointer;
    .content { max-width: 600px; margin: auto; }
    h1 {
      font-size: 30px;             /* 字體大小 */
      color: #ffffff;              /* 白色字體比較適合做光暈效果 */
      font-weight: bold;           /* 粗體 */
      text-align: center;          /* 置中 */
      margin-bottom: 30px;         /* 下方留空 */
      text-shadow: 
        0 0 5px #7300ff,           /* 淺紫光暈 */
        0 0 10px #7300ff,
        0 0 15px #7300ff,
        0 0 20px #7300ff;
      /*background-color: #000000;   /* 建議加深背景讓光暈更明顯 */
      padding: 0px;
      border-radius: 10px;
    }
    h4 {
      font-size: 1.4em;
      line-height: 1.6;

      margin-bottom: 1em;
      color: #9a42ff;
    }
    h5 {
      font-size: 1.2em;
      line-height: 1.2;
      margin-top: 0em;
      margin-bottom: 1em;
      color: #d0b5ff;
    }
    .intro {
      text-align: left;
      margin-bottom: 0em;
      
      background: rgba(255,255,255,0.05);
      padding: 0.5em;
      border-radius: 10px;
    }
    
    #question-title {
      font-size: *2em;  /* 你可以依需求調整數值 */
      font-weight: bold; /* 也可以設為 normal, lighter 等 */
      margin-bottom: 0.5em;
      color: #9a42ff;
    }
    #question-text {
      font-size: 1.5em;
      line-height: 1.6;
      margin-bottom: 1em;
    }
    #question-intro {
      font-size: 1.15em;
      line-height: 1.2;
      margin-top: -1em;
      margin-bottom: 0em;
    }
    #feedback-title {
      font-size: 2em;  /* 你可以依需求調整數值 */
      font-weight: bold; /* 也可以設為 normal, lighter 等 */
      margin-bottom: 0.5em;
      color: #9a42ff;
    }
    #feedback-text {
      font-size: 1.5em;
      line-height: 1.6;
      margin-bottom: 1em;
      text-align: justify;
    }
    #knowledge-title {
      font-size: 2em;  /* 你可以依需求調整數值 */
      font-weight: bold; /* 也可以設為 normal, lighter 等 */
      margin-bottom: 0.5em;
      color: #9a42ff;
    }
    #knowledge-text {
      font-size: 1.5em;
      line-height: 1.6;
      margin-bottom: 1em;
      text-align: justify;
    }
    #final-feedback {
      font-size: 2em;
      margin: 1em 0;
      text-align: justify;
      font-weight: bold;
      background: linear-gradient(270deg, red, orange, yellow, green, blue, indigo, violet, red);
      background-size: 400% 400%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: rainbow 2s ease infinite;
    }
    .final-score {
      margin-top: 1em;
      font-size: 1.8em;
      color: #9a42ff;;
    }
    .all-endings {
      margin-top: 1.6em;
      font-size: 1.2em;
      color: #eee;
      text-align: left;
      padding: 1em;
      background-color: rgba(255,255,255,0.05);
      border-radius: 10px;
    }
    #result-screen .all-endings h3 {
      margin-top: 0em;
      /*font-size: 0.95em; /* 修改"所有評語對照表"標題的字體大小 */
    }

    #result-screen .all-endings ul li {
      text-align: justify;
      /*font-size: 0.5em; /* 修改評語列表的字體大小 */
    }
    
    .score-display {
      margin-top: 1em;
      font-size: 1em;
      color: #ffffff;
    }
    
    .option-button {
      display: block;
      margin: 10px auto;
      width: 80%;
    }
    .hidden {
      display: none;
    }
    
    @keyframes rainbow {
      0% { background-position: 100% 50%; }
      50% { background-position: 0% 50%; }
      100% { background-position: 100% 50%; }
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">
</head>
<body>
<div class="container">
  <div id="start-screen">
    <h1>黑洞任務：宇宙真相追蹤</h1>
    <h4>在無光之地，尋找宇宙的真理！</h4>
    <div class="intro">
      <h5>從牛頓到愛因斯坦，人類試圖理解宇宙的運作方式，而黑洞正是這場探索的關鍵節點。《黑洞》的內容化為這款小遊戲，邀請你一起走過理論與觀測的歷程，破解黑洞相關的宇宙謎團。</h5>
      <h5>一同見證人類如何一步步接近宇宙的真相！</h5>
      <h3>🔍 遊戲說明</h3>
      <p>🌌 <strong>背景故事</strong><br>你受命前往一艘無人太空探測器，它已完成一段驚心動魄的航程，留下珍貴的觀測紀錄。現在，你的任務是依照這些紀錄，一步步重建它的旅程，破解沿途的科學謎團。每一步，都是接近真相的線索拼圖。</p>
      <p>🧠 <strong>玩法簡介</strong><br>遊戲總共 8 關。每關只有一個正確答案，答對得 1 分，答錯 0 分。</p>
      <p>🏆 <strong>目標與結局</strong><br>遊戲結束後，將根據你的總分給予不同的評語與稱號。你能成功破解所有謎團，成為宇宙奧秘大師嗎？</p>
    </div>
    <button onclick="startGame()">開始遊戲</button>
  </div>
  <!-- 問題頁 -->
  <div id="question-screen" class="hidden">
    <h2 id="question-title"></h2>
    <div class="intro">
      <p id="question-intro"></p>      
    </div>
    <p style="text-align: justify;" id="question-text"></p>
    <div id="options-container"></div>
  </div>
  <!-- 回饋頁 -->
  <div class="hidden" id="feedback-screen">
    <h3 id="feedback-title"></h3>
    <p id="feedback-text"></p>
    <div id="round-score" class="score-display hidden"></div>
    <button onclick="showKnowledge()">查看解析</button>
  </div>
  <!-- 知識頁 -->
  <div class="hidden" id="knowledge-screen">
    <h3 id="knowledge-title">知識補充</h3>
    <p id="knowledge-text"></p>
    <div id="info-link" class="hidden" style="margin-top: 1em;"></div>
    <button onclick="nextQuestion()">下一關</button>
  </div>
  <!-- 結算頁 -->
  <div class="hidden" id="result-screen">
    <h2>🌟 任務結束！</h2>
    <p id="final-feedback"></p>
    <div class="final-score" id="final-score"></div>   
    <div class="all-endings">
      <h3>所有評語對照表：</h3>
      <ul>
        <li>0–1 分：每次嘗試都更靠近真相，歡迎再次挑戰！</li>
        <li>2–3 分：好開始是成功的一半，繼續追尋宇宙的奧祕吧！</li>
        <li>4–5 分：宇宙新探員，你的觀察力正在穩定成長中！</li>
        <li>6–7 分：太空偵查高手！再一點點就能破解全部謎團！</li>
        <li>8 分：宇宙奧秘大師！你已掌握宇宙的關鍵祕密！</li>
      </ul>
    </div>
    <button onclick="location.reload()">重新開始</button>
  </div>
</div>
  <script>
    const questions = [
      {
        title: "第 1 關：重力的第一步",
        intro: `
          🔎 任務簡報
          太空探測器靠近一顆陌生行星時出現了奇怪的現象，請幫忙判斷是什麼重力理論最適合解釋它。
          📁 調查資料
          「探測器一開始直直飛，但靠近行星時，它開始被吸引並繞著行星旋轉，就像月亮繞地球那樣。我們的時鐘顯示沒什麼變化。」
        `,
        question: "你覺得最適合解釋這個現象的是哪一種重力理論？",
        options: [
          "牛頓的萬有引力：有質量的東西會彼此吸引",
          "狹義相對論：描述高速移動時時間會變慢",
          "廣義相對論：重力會讓時空彎曲",
          "黑洞理論：描述黑洞和它發出的能量"
        ],
        answerIndex: 0,
        feedback: "牛頓認為重力是物體間的吸引力，而愛因斯坦則認為重力是物體使時空彎曲後的結果，兩者理論基礎不同但都很重要。這類規模的軌道運動，用牛頓的萬有引力就可以很好解釋。在更極端或更精密的情況下，廣義相對論才會顯現出差異。",
        knowledge: "牛頓在17世紀提出萬有引力定律，成功解釋了行星運動；但到了20世紀，愛因斯坦的廣義相對論指出重力並不是一種真正的「力」，而是質量使周圍的時空彎曲，物體在彎曲的時空中運動才呈現出被「吸引」的效果。這為我們理解緻密天體如黑洞奠定基礎。",
        link: [
          { text: "公理太空公司官網", url: "https://www.axiomspace.com/axiom-station"},
          { text: "NASA", url: "https://www.nasa.gov/humans-in-space/commercial-space/leo-economy/nasa-axiom-space-change-assembly-order-of-commercial-space-station/"}
        ]
      },
      {
        title: "第 2 關：光也會拐彎？",
          intro: `
            🔎 任務簡報  
            探測器在巡航途中，長距離觀測某星區時，回傳了不尋常的影像。請根據調查資料推測原因。
            📁 調查資料  
            「我們對準的是一個遙遠星系，但畫面中竟然出現兩個幾乎一模一樣的影像，而且它們的位置怪怪的，好像有什麼東西把它們拉歪了。」 
          `,
          question: "造成這個影像異常最可能的原因是什麼？",
          options: [
            "畫面中其實是兩個外觀看起來相似、剛好靠得很近的星系",
            "光線被一個看不見的重力天體彎曲了路徑",
            "探測器的鏡頭自動調焦時產生重影",
            "星系發生爆炸，光一分為二傳過來"
          ],
          answerIndex: 1,
          feedback: "這種現象稱為重力透鏡效應，是強重力場讓遙遠星系的光發生彎曲，造成我們看到雙重甚至環狀影像。",
          knowledge: "根據愛因斯坦的廣義相對論，重力會讓時空彎曲，而光線在彎曲的時空中會改變行進方向。當一個質量極大的天體（如黑洞或星系團）位於探測器與遙遠星體之間時，就會產生「重力透鏡效應」。這能讓我們看到變形、重影甚至放大的星系影像，是現代天文學研究暗物質與深空結構的重要工具。",
          link: { text: "NASA", url: "https://www.nasa.gov/johnson/neutral-buoyancy-laboratory/"}
        }
    ];

    let currentQuestion = 0;
    let score = 0;

    function startGame() {
      document.getElementById("start-screen").classList.add("hidden");
      showQuestion();
    }

    function formatIntro(intro) {
  		return intro
      .replace(/🔎 任務簡報/, '<strong>🔎 任務簡報</strong><br>')
      .replace(/📁 調查資料/, '<br><strong>📁 調查資料</strong><br>')
      .replace(/\n/g, '<br>') // 若你 intro 裡是用換行符號斷行，也可以加這行
      .replace(/\s{2,}/g, ''); // 清除多餘空白
  	}
    function showQuestion() {
      const q = questions[currentQuestion];
      document.getElementById("question-screen").classList.remove("hidden");
      document.getElementById("question-title").textContent = q.title;
			document.getElementById("question-intro").innerHTML = formatIntro(questions[currentQuestion].intro);
      document.getElementById("question-text").textContent = q.question;
      const optionsContainer = document.getElementById("options-container");
      optionsContainer.innerHTML = "";
      q.options.forEach((opt, index) => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.className = "option-button";
        btn.onclick = () => checkAnswer(index);
        	
        optionsContainer.appendChild(btn);
      });
    }


    function checkAnswer(selectedIndex) {
      document.getElementById("question-screen").classList.add("hidden");
      const q = questions[currentQuestion];
      document.getElementById("feedback-screen").classList.remove("hidden");
      if (selectedIndex === q.answerIndex) {
        document.getElementById("feedback-title").textContent = "答對了！";
        score++;
      } else {
        document.getElementById("feedback-title").textContent = "答錯了...";
      }
      document.getElementById("round-score").innerHTML =
        `目前總分：<strong>${score}</strong>`;
      document.getElementById("round-score").classList.remove("hidden");
      document.getElementById("feedback-text").textContent = q.feedback;
    }

    function showKnowledge() {
      document.getElementById("feedback-screen").classList.add("hidden");
      document.getElementById("knowledge-screen").classList.remove("hidden");
      document.getElementById("knowledge-text").textContent = questions[currentQuestion].knowledge;
      const info = questions[currentQuestion];
      const link = info && info.link;
      const linkArea = document.getElementById("info-link");
      if (link) {
        linkArea.innerHTML = "<p>相關資料</p>";

        // 情況 1：多個網址
        if (Array.isArray(link)) {
          link.forEach(l => {
            linkArea.innerHTML += `<a href="${l.url}" target="_blank" style="display:block; color:#00ccff;">${l.text}</a>`;
          });
        }
        // 情況 2：單一網址
        else if (link.url && link.text) {
          linkArea.innerHTML += `<a href="${link.url}" target="_blank" style="display:block; color:#00ccff;">${link.text}</a>`;
        }

        linkArea.classList.remove("hidden");
      } else {
        linkArea.innerHTML = "";
        linkArea.classList.add("hidden");
      }
    }

    function nextQuestion() {
      document.getElementById("knowledge-screen").classList.add("hidden");
      currentQuestion++;
      if (currentQuestion < questions.length) {
        showQuestion();
      } else {
        showResult();
      }      
    }

    function showResult() {
      document.getElementById("result-screen").classList.remove("hidden");
      document.getElementById("final-score").textContent = `你的總分：${score}/8`;
      let feedback = "";
      if (score === 8) feedback = "宇宙奧秘大師！你已掌握宇宙的關鍵祕密！";
      else if (score >= 6) feedback = "太空偵查高手！再一點點就能破解全部謎團！";
      else if (score >= 4) feedback = "宇宙新探員，你的觀察力正在穩定成長中！";
      else if (score >= 2) feedback = "好開始是成功的一半，繼續追尋宇宙的奧祕吧！";
      else feedback = "每次嘗試都更靠近真相，歡迎再次挑戰！";
      document.getElementById("final-feedback").textContent = feedback;
    }

    function restartGame() {
      score = 0;
      currentQuestion = 0;
      document.getElementById("result-screen").classList.add("hidden");
      startGame();
    }
  </script>
</body>
</html>
